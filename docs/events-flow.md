# Діаграма флоу подій між Дією та зовнішнімі системами

Як події через черги скачуть по темам. Краще дивитися скачавши файл мабуть.
![events-flow](https://gist.github.com/assets/4257079/785e0974-8746-406a-a459-74e788ab02f5)

Ісходний код діаграми

```dot
digraph G {
node [shape=diamond];
edge [tooltip="Edge tooltip"];
0 [fontcolor="#FFFFFFFF", shape=polygon, label="Notification", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
1 [shape=box, label="TopicNotificationLifeCycle", style=filled, fillcolor="#FF0000FF", group=""];
2 [fontcolor="#FFFFFFFF", shape=polygon, label="Scheduler", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
3 [shape=box, label="TopicScheduledTasks", style=filled, fillcolor="#FF0000FF", group=""];
4 [fontcolor="#FFFFFFFF", shape=polygon, label="Auth", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
5 [shape=box, label="TopicAuthUserSession", style=filled, fillcolor="#FF0000FF", group=""];
6 [fontcolor="#FFFFFFFF", shape=polygon, label="DamagedProperty", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
7 [shape=box, label="TopicAnalytics", style=filled, fillcolor="#FF0000FF", group=""];
8 [fontcolor="#FFFFFFFF", shape=polygon, label="DepositGuaranteePayments", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
9 [fontcolor="#FFFFFFFF", shape=polygon, label="Documents", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
10 [shape=box, label="TopicDocumentsRegistry", style=filled, fillcolor="#FF0000FF", group=""];
11 [shape=box, label="TopicDocumentLifeCycle", style=filled, fillcolor="#FF0000FF", group=""];
12 [fontcolor="#FFFFFFFF", shape=polygon, label="Gateway", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
13 [shape=box, label="TopicGatewayUserActivity", style=filled, fillcolor="#FF0000FF", group=""];
14 [fontcolor="#FFFFFFFF", shape=polygon, label="Payment", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
15 [shape=box, label="TopicPaymentDataLifeCycle", style=filled, fillcolor="#FF0000FF", group=""];
16 [fontcolor="#FFFFFFFF", shape=polygon, label="PublicService", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
17 [shape=box, label="TopicPublicServicePenaltiesLifeCycle", style=filled, fillcolor="#FF0000FF", group=""];
18 [shape=box, label="TopicPublicServiceCriminalCertLifeCycle", style=filled, fillcolor="#FF0000FF", group=""];
19 [shape=box, label="TopicPublicServiceDebtsLifeCycle", style=filled, fillcolor="#FF0000FF", group=""];
20 [shape=box, label="TopicPublicServiceSigningLifeCycle", style=filled, fillcolor="#FF0000FF", group=""];
21 [fontcolor="#FFFFFFFF", shape=polygon, label="CriminalCert", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
22 [shape=box, label="TopicCriminalCertLifeCycle", style=filled, fillcolor="#FF0000FF", group=""];
23 [fontcolor="#FFFFFFFF", shape=polygon, label="ResidenceRegistration", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
24 [fontcolor="#FFFFFFFF", shape=polygon, label="VehicleReRegistration", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
25 [fontcolor="#FFFFFFFF", shape=polygon, label="User", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
26 [shape=box, label="TopicUserPenaltiesIdentification", style=filled, fillcolor="#FF0000FF", group=""];
27 [shape=box, label="TopicUserSendMassNotifications", style=filled, fillcolor="#FF0000FF", group=""];
28 [shape=box, label="TopicUserProfileLifecycle", style=filled, fillcolor="#FF0000FF", group=""];
29 [fontcolor="#FFFFFFFF", shape=polygon, label="DocumentAcquirers", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
30 [shape=box, label="TopicAcquirersOfferRequestLifeCycle", style=filled, fillcolor="#FF0000FF", group=""];
31 [fontcolor="#FFFFFFFF", shape=polygon, label="Analytics", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
32 [shape=box, label="TopicRating", style=filled, fillcolor="#FF0000FF", group=""];
33 [fontcolor="#FFFFFFFF", shape=polygon, label="DocumentDelivery", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
34 [shape=box, label="TopicDocumentDeliveryLifeCycle", style=filled, fillcolor="#FF0000FF", group=""];
35 [fontcolor="#FFFFFFFF", shape=box, label="ScheduledTasksQueueNotification", style=filled, fillcolor="#0000FFFF", group=""];
36 [fontcolor="#FFFFFFFF", shape=box, label="QueueNotification", style=filled, fillcolor="#0000FFFF", group=""];
37 [fontcolor="#FFFFFFFF", shape=box, label="ScheduledTasksQueueAuth", style=filled, fillcolor="#0000FFFF", group=""];
38 [fontcolor="#FFFFFFFF", shape=box, label="QueuAuth", style=filled, fillcolor="#0000FFFF", group=""];
39 [fontcolor="#FFFFFFFF", shape=box, label="ScheduledTasksQueueDamagedProperty", style=filled, fillcolor="#0000FFFF", group=""];
40 [fontcolor="#FFFFFFFF", shape=box, label="QueueDamagedProperty", style=filled, fillcolor="#0000FFFF", group=""];
41 [fontcolor="#FFFFFFFF", shape=box, label="ScheduledTasksQueueDepositGuaranteePayments", style=filled, fillcolor="#0000FFFF", group=""];
42 [fontcolor="#FFFFFFFF", shape=box, label="ScheduledTasksQueueDocuments", style=filled, fillcolor="#0000FFFF", group=""];
43 [fontcolor="#FFFFFFFF", shape=box, label="QueueDocuments", style=filled, fillcolor="#0000FFFF", group=""];
44 [fontcolor="#FFFFFFFF", shape=box, label="ScheduledTasksQueueGateway", style=filled, fillcolor="#0000FFFF", group=""];
45 [fontcolor="#FFFFFFFF", shape=box, label="QueuePayment", style=filled, fillcolor="#0000FFFF", group=""];
46 [fontcolor="#FFFFFFFF", shape=box, label="ScheduledTasksQueuePayment", style=filled, fillcolor="#0000FFFF", group=""];
47 [fontcolor="#FFFFFFFF", shape=box, label="ScheduledTasksQueuePublicService", style=filled, fillcolor="#0000FFFF", group=""];
48 [fontcolor="#FFFFFFFF", shape=box, label="QueuePublicService", style=filled, fillcolor="#0000FFFF", group=""];
49 [fontcolor="#FFFFFFFF", shape=box, label="ScheduledTasksQueueCriminalCert", style=filled, fillcolor="#0000FFFF", group=""];
50 [fontcolor="#FFFFFFFF", shape=box, label="QueueCriminalCert", style=filled, fillcolor="#0000FFFF", group=""];
51 [fontcolor="#FFFFFFFF", shape=box, label="ScheduledTasksQueueReportService", style=filled, fillcolor="#0000FFFF", group=""];
52 [fontcolor="#FFFFFFFF", shape=polygon, label="ReportService", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
53 [fontcolor="#FFFFFFFF", shape=box, label="ScheduledTasksQueueResidenceRegistration", style=filled, fillcolor="#0000FFFF", group=""];
54 [fontcolor="#FFFFFFFF", shape=box, label="ScheduledTasksQueueVehicleReRegistration", style=filled, fillcolor="#0000FFFF", group=""];
55 [fontcolor="#FFFFFFFF", shape=box, label="ScheduledTasksQueueInvincibility", style=filled, fillcolor="#0000FFFF", group=""];
56 [fontcolor="#FFFFFFFF", shape=polygon, label="Invincibility", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
57 [fontcolor="#FFFFFFFF", shape=box, label="QueueInvincibility", style=filled, fillcolor="#0000FFFF", group=""];
58 [fontcolor="#FFFFFFFF", shape=box, label="ScheduledTasksQueueUser", style=filled, fillcolor="#0000FFFF", group=""];
59 [fontcolor="#FFFFFFFF", shape=box, label="QueueUser", style=filled, fillcolor="#0000FFFF", group=""];
60 [fontcolor="#FFFFFFFF", shape=box, label="ScheduledTasksQueueDocumentAcquirers", style=filled, fillcolor="#0000FFFF", group=""];
61 [fontcolor="#FFFFFFFF", shape=box, label="QueueSseAdapter", style=filled, fillcolor="#0000FFFF", group=""];
62 [fontcolor="#FFFFFFFF", shape=polygon, label="SseAdapter", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
63 [fontcolor="#FFFFFFFF", shape=box, label="QueueVote", style=filled, fillcolor="#0000FFFF", group=""];
64 [fontcolor="#FFFFFFFF", shape=polygon, label="Vote", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
65 [fontcolor="#FFFFFFFF", shape=box, label="QueuePartner", style=filled, fillcolor="#0000FFFF", group=""];
66 [fontcolor="#FFFFFFFF", shape=polygon, label="Partner", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
67 [fontcolor="#FFFFFFFF", shape=box, label="ScheduledTasksQueuePartner", style=filled, fillcolor="#0000FFFF", group=""];
68 [fontcolor="#FFFFFFFF", shape=box, label="ScheduledTasksQueueAddress", style=filled, fillcolor="#0000FFFF", group=""];
69 [fontcolor="#FFFFFFFF", shape=polygon, label="Address", sides=4, style=filled, fillcolor="#000000FF", group="Сервіс"];
70 [fontcolor="#FFFFFFFF", shape=box, label="QueueAnalytics", style=filled, fillcolor="#0000FFFF", group=""];
71 [fontcolor="#FFFFFFFF", shape=box, label="QueueDocumentDelivery", style=filled, fillcolor="#0000FFFF", group=""];
72 [fontcolor="#FFFFFFFF", shape=box, label="ScheduledTasksQueueDocumentDelivery", style=filled, fillcolor="#0000FFFF", group=""];
73 [shape=box, label="TopicPartnerLifeCycle", style=filled, fillcolor="#FF0000FF", group=""];
74 [shape=box, label="auth-check-refresh-tokens-expiration", style=filled, group=""];
75 [shape=box, label="damaged-property-notify-repair-message-awaiting", style=filled, group=""];
76 [shape=box, label="deposit-guarantee-payments-load-compensation-deposits", style=filled, group=""];
77 [shape=box, label="document-acquirers-refresh-offer-requests", style=filled, group=""];
78 [shape=box, label="documents-archive-used-otp", style=filled, group=""];
79 [shape=box, label="documents-delete-unused-otp", style=filled, group=""];
80 [shape=box, label="documents-delete-taxpayer-applications", style=filled, group=""];
81 [shape=box, label="auth-update-bank-id-bank-list", style=filled, group=""];
82 [shape=box, label="public-service-check-applications", style=filled, group=""];
83 [shape=box, label="public-service-load-penalties", style=filled, group=""];
84 [shape=box, label="public-service-load-penalties-v2", style=filled, group=""];
85 [shape=box, label="public-service-check-inspector-penalties-for-deadline", style=filled, group=""];
86 [shape=box, label="public-service-check-penalties-for-deadline", style=filled, group=""];
87 [shape=box, label="public-service-load-mia-dictionaries", style=filled, group=""];
88 [shape=box, label="public-service-check-driver-license-replacement-applications", style=filled, group=""];
89 [shape=box, label="public-service-check-driver-license-replacement-applications-send-expiration", style=filled, group=""];
90 [shape=box, label="public-service-delete-expired-mass-vaccination-tickets", style=filled, group=""];
91 [shape=box, label="public-service-revoke-mass-vaccination", style=filled, group=""];
92 [shape=box, label="public-service-check-residence-registrations", style=filled, group=""];
93 [shape=box, label="public-service-check-debts-changes", style=filled, group=""];
94 [shape=box, label="public-service-check-criminal-record-certificate-applications", style=filled, group=""];
95 [shape=box, label="public-service-create-vaccination-aid-bank-reports", style=filled, group=""];
96 [shape=box, label="public-service-create-martial-law-aid-bank-reports", style=filled, group=""];
97 [shape=box, label="public-service-create-vaccination-aid-report", style=filled, group=""];
98 [shape=box, label="public-service-create-vaccination-aid-pfu-report", style=filled, group=""];
99 [shape=box, label="public-service-create-issued-mortgage-report", style=filled, group=""];
100 [shape=box, label="public-service-check-proper-user-applications", style=filled, group=""];
101 [shape=box, label="public-service-delete-proper-user-expired-applications", style=filled, group=""];
102 [shape=box, label="public-service-check-unemployment-status-applications", style=filled, group=""];
103 [shape=box, label="public-service-check-unemployment-status-canceling-applications", style=filled, group=""];
104 [shape=box, label="public-service-check-military-bonds-partners", style=filled, group=""];
105 [shape=box, label="public-service-update-military-bonds-offers", style=filled, group=""];
106 [shape=box, label="public-service-update-military-bonds-dictionaries", style=filled, group=""];
107 [shape=box, label="public-service-delete-expired-residence-cert-orders", style=filled, group=""];
108 [shape=box, label="public-service-check-is-mortgage-applicant-has-accepted-offer", style=filled, group=""];
109 [shape=box, label="public-service-check-is-mortgage-partner-has-verified-data-request", style=filled, group=""];
110 [shape=box, label="public-service-upload-led-exchange-orders", style=filled, group=""];
111 [shape=box, label="public-service-check-led-exchange-report", style=filled, group=""];
112 [shape=box, label="public-service-update-dictionaries", style=filled, group=""];
113 [shape=box, label="public-service-create-erecovery-submission-report", style=filled, group=""];
114 [shape=box, label="public-service-import-erecovery-pfu-report", style=filled, group=""];
115 [shape=box, label="public-service-check-court-penalties-payment-term", style=filled, group=""];
116 [shape=box, label="public-service-send-nacp-declarant-relatives-distributions", style=filled, group=""];
117 [shape=box, label="public-service-expire-nacp-declarant-relatives-distributions", style=filled, group=""];
118 [shape=box, label="criminal-cert-check-criminal-record-certificate-applications", style=filled, group=""];
119 [shape=box, label="notification-send-new-penalties", style=filled, group=""];
120 [shape=box, label="notification-send-distributions", style=filled, group=""];
121 [shape=box, label="user-check-covid-certificates-expirations", style=filled, group=""];
122 [shape=box, label="user-check-driver-licenses-expirations", style=filled, group=""];
123 [shape=box, label="user-check-vehicle-licenses-expirations", style=filled, group=""];
124 [shape=box, label="user-check-diiaid-expirations", style=filled, group=""];
125 [shape=box, label="partnerProcessVaccinationAidAccounts", style=filled, group=""];
126 [shape=box, label="paymentCheckDelayedOrders", style=filled, group=""];
127 [shape=box, label="address-service-update-atu", style=filled, group=""];
128 [shape=box, label="document-delivery-check-expired-orders", style=filled, group=""];
129 [shape=box, label="invincibility-load-points", style=filled, group=""];
130 [shape=box, label="invincibility-load-shelters", style=filled, group=""];
131 [shape=box, label="auth-create-or-update-user-profile", style=filled, group=""];
132 [shape=box, label="auth-assign-user-to-push-token", style=filled, group=""];
133 [shape=box, label="auth-user-log-out", style=filled, group=""];
134 [shape=box, label="auth-create-or-update-eresident-profile", style=filled, group=""];
135 [shape=box, label="auth-assign-eresident-to-push-token", style=filled, group=""];
136 [shape=box, label="auth-eresident-log-out", style=filled, group=""];
137 [shape=box, label="documents-add-documents-in-profile", style=filled, group=""];
138 [shape=box, label="documents-add-document-in-profile", style=filled, group=""];
139 [shape=box, label="documents-add-document-photo", style=filled, group=""];
140 [shape=box, label="documents-remove-document-photo", style=filled, group=""];
141 [shape=box, label="documents-adult-registration-address-community", style=filled, group=""];
142 [shape=box, label="gateway-user-activity", style=filled, group=""];
143 [shape=box, label="payment-callback-status", style=filled, group=""];
144 [shape=box, label="payment-callback-status-v2", style=filled, group=""];
145 [shape=box, label="payment-executed", style=filled, group=""];
146 [shape=box, label="payment-expired", style=filled, group=""];
147 [shape=box, label="public-service-penalty-created", style=filled, group=""];
148 [shape=box, label="public-service-criminal-certificate-status-updated", style=filled, group=""];
149 [shape=box, label="criminal-certificate-status-updated", style=filled, group=""];
150 [shape=box, label="public-service-received-opened-debt", style=filled, group=""];
151 [shape=box, label="public-service-received-enforced-debt", style=filled, group=""];
152 [shape=box, label="public-service-signing-status", style=filled, group=""];
153 [shape=box, label="documents.obtained.vehicle-license", style=filled, group=""];
154 [shape=box, label="documents.obtained.reference-internally-displaced-person", style=filled, group=""];
155 [shape=box, label="user-send-mass-notifications", style=filled, group=""];
156 [shape=box, label="user-send-mass-anonymous-notifications", style=filled, group=""];
157 [shape=box, label="user-send-mass-silent-pushes", style=filled, group=""];
158 [shape=box, label="user-penalty-identified", style=filled, group=""];
159 [shape=box, label="user-profile-created", style=filled, group=""];
160 [shape=box, label="notification-penalty-created", style=filled, group=""];
161 [shape=box, label="notification-opened-debt-created", style=filled, group=""];
162 [shape=box, label="notification-enforced-debt-created", style=filled, group=""];
163 [shape=box, label="notification-has-read", style=filled, group=""];
164 [shape=box, label="notification-has-deleted", style=filled, group=""];
165 [shape=box, label="acquirers-offer-request-has-deleted", style=filled, group=""];
166 [shape=box, label="acquirers-sharing-status", style=filled, group=""];
167 [shape=box, label="acquirers-signing-status", style=filled, group=""];
168 [shape=box, label="rate-service", style=filled, group=""];
169 [shape=box, label="rating-saved", style=filled, group=""];
170 [shape=box, label="document-delivery-callback-status", style=filled, group=""];
0 -> 1;
1 -> 48;
2 -> 3;
3 -> 37;
3 -> 39;
3 -> 41;
3 -> 42;
3 -> 44;
3 -> 67;
3 -> 46;
3 -> 47;
3 -> 49;
3 -> 51;
3 -> 53;
3 -> 54;
3 -> 55;
3 -> 35;
3 -> 60;
3 -> 58;
3 -> 68;
3 -> 72;
4 -> 5;
5 -> 36;
5 -> 59;
5 -> 43;
6 -> 7;
7 -> 70;
8 -> 7;
9 -> 10;
9 -> 11;
10 -> 59;
10 -> 63;
11 -> 48;
12 -> 13;
13 -> 38;
14 -> 15;
15 -> 45;
15 -> 48;
16 -> 15;
16 -> 17;
16 -> 18;
16 -> 19;
16 -> 20;
16 -> 7;
17 -> 59;
18 -> 40;
19 -> 36;
20 -> 59;
21 -> 22;
21 -> 7;
22 -> 40;
23 -> 15;
23 -> 7;
24 -> 15;
24 -> 7;
25 -> 26;
25 -> 27;
25 -> 28;
25 -> 7;
26 -> 36;
27 -> 36;
28 -> 36;
28 -> 48;
29 -> 30;
30 -> 59;
30 -> 38;
31 -> 32;
32 -> 57;
33 -> 34;
34 -> 48;
35 -> 0;
36 -> 0;
37 -> 4;
38 -> 4;
39 -> 6;
40 -> 6;
41 -> 8;
42 -> 9;
43 -> 9;
44 -> 12;
45 -> 14;
46 -> 14;
47 -> 16;
48 -> 16;
49 -> 21;
50 -> 21;
51 -> 52;
53 -> 23;
54 -> 24;
55 -> 56;
57 -> 56;
58 -> 25;
59 -> 25;
60 -> 29;
61 -> 62;
63 -> 64;
65 -> 66;
67 -> 66;
68 -> 69;
70 -> 31;
71 -> 33;
72 -> 33;
73 -> 65;
74 -> 3;
75 -> 3;
76 -> 3;
77 -> 3;
78 -> 3;
79 -> 3;
80 -> 3;
81 -> 3;
82 -> 3;
83 -> 3;
84 -> 3;
85 -> 3;
86 -> 3;
87 -> 3;
88 -> 3;
89 -> 3;
90 -> 3;
91 -> 3;
92 -> 3;
93 -> 3;
94 -> 3;
95 -> 3;
96 -> 3;
97 -> 3;
98 -> 3;
99 -> 3;
100 -> 3;
101 -> 3;
102 -> 3;
103 -> 3;
104 -> 3;
105 -> 3;
106 -> 3;
107 -> 3;
108 -> 3;
109 -> 3;
110 -> 3;
111 -> 3;
112 -> 3;
113 -> 3;
114 -> 3;
115 -> 3;
116 -> 3;
117 -> 3;
118 -> 3;
119 -> 3;
120 -> 3;
121 -> 3;
122 -> 3;
123 -> 3;
124 -> 3;
125 -> 3;
126 -> 3;
127 -> 3;
128 -> 3;
129 -> 3;
130 -> 3;
131 -> 5;
132 -> 5;
133 -> 5;
134 -> 5;
135 -> 5;
136 -> 5;
137 -> 10;
138 -> 10;
139 -> 10;
140 -> 10;
141 -> 10;
142 -> 13;
143 -> 15;
144 -> 15;
145 -> 15;
146 -> 15;
147 -> 17;
148 -> 18;
149 -> 22;
150 -> 19;
151 -> 19;
152 -> 20;
153 -> 11;
154 -> 11;
155 -> 27;
156 -> 27;
157 -> 27;
158 -> 26;
159 -> 28;
160 -> 1;
161 -> 1;
162 -> 1;
163 -> 1;
164 -> 1;
165 -> 30;
166 -> 30;
167 -> 30;
168 -> 7;
169 -> 32;
170 -> 34;
}
```

